{% extends "layout.html" %}

{% block title %}
{% endblock %}

{% block body_class %}
    details_page
{% endblock %}

{% block main %}
<main class="search_page container">
    <div class="tab d-flex gap-2 mb-3">
        <button class="tablinks btn btn-outline-light" onclick="searchtab(event, 'Movies')">Movies</button>
        <button class="tablinks btn btn-outline-light" onclick="searchtab(event, 'Shows')">Shows</button>
    </div>

    <!-- Movies Tab -->
    <div id="Movies" class="tabcontent">
        <h3 align="left">Movies</h3>
        <hr style="background-color: white;">
        <div class="row">
            {% for movie in movies %}
            <div class="col-md-2 col-sm-3 col-6 mb-4">
                <a href="/movies?movie_id={{ movie['id'] }}" style="text-decoration: none; color: inherit;">
                    <div class="movie-card" data-id="{{ movie['id'] }}" data-type="0">
                        <img src="{{ movie['poster'] }}" class="card-img" alt="{{ movie['name'] }}">
                        <div class="card-body">
                            <div class="card-title">{{ movie['name'] }}</div>
                        </div>
                        <div class="card-overlay">
                            <button class="btn btn-overlay btn-add-watchlist" title="Add to Watchlist">+ Watchlist</button>
                            <button class="btn btn-overlay btn-add-arr" data-arr="radarr" title="Add to Radarr">ðŸŽ¬ Radarr</button>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Shows Tab -->
    <div id="Shows" class="tabcontent" style="display:none;">
        <h3 align="left">Shows</h3>
        <hr style="background-color: white;">
        <div class="row">
            {% for show in shows %}
            <div class="col-md-2 col-sm-3 col-6 mb-4">
                <a href="/shows?show_id={{ show['id'] }}" style="text-decoration: none; color: inherit;">
                    <div class="movie-card" data-id="{{ show['id'] }}" data-type="1">
                        <img src="{{ show['poster'] }}" class="card-img" alt="{{ show['name'] }}">
                        <div class="card-body">
                            <div class="card-title">{{ show['name'] }}</div>
                        </div>
                        <div class="card-overlay">
                            <button class="btn btn-overlay btn-add-watchlist" title="Add to Watchlist">+ Watchlist</button>
                            <button class="btn btn-overlay btn-add-arr" data-arr="sonarr" title="Add to Sonarr">ðŸ“º Sonarr</button>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</main>
<script>
document.addEventListener("DOMContentLoaded", function() {
    // Trigger the 'Movies' tab to open by default
    searchtab(event, 'Movies');
});
</script>
{% endblock %}

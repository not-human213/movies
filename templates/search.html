{% extends "layout.html" %}

{% block title %}
{% endblock %}

{% block body_class %}
    details_page
{% endblock %}

{% block main %}
<main class="search_page container">
    <div class="tab d-flex gap-2 mb-3">
        <button class="tablinks btn btn-outline-light" onclick="searchtab(event, 'Movies')">Movies</button>
        <button class="tablinks btn btn-outline-light" onclick="searchtab(event, 'Shows')">Shows</button>
    </div>

    <!-- Movies Tab -->
    <div id="Movies" class="tabcontent">
        <h3 align="left">Movies</h3>
        <hr style="background-color: white;">
        <div class="row">
            {% for movie in movies %}
            <div class="col-md-2 col-sm-3 col-6 mb-4">
                <div class="movie-card" onclick="todetails(event, '{{ movie['id'] }}', 0)">
                    <img src="{{ movie['poster'] }}" class="card-img" alt="{{ movie['name'] }}">
                    <div class="card-body">
                        <div class="card-title">{{ movie['name'] }}</div>
                        <div class="card-options">
                            <button class="btn watch-btn"></button>
                            <button class="btn like-btn"></button>
                            <button class="btn more-btn"></button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Shows Tab -->
    <div id="Shows" class="tabcontent" style="display:none;">
        <h3 align="left">Shows</h3>
        <hr style="background-color: white;">
        <div class="row">
            {% for show in shows %}
            <div class="col-md-2 col-sm-3 col-6 mb-4">
                <div class="movie-card" onclick="todetails(event, '{{ show['id'] }}', 1)">
                    <img src="{{ show['poster'] }}" class="card-img" alt="{{ show['name'] }}">
                    <div class="card-body">
                        <div class="card-title">{{ show['name'] }}</div>
                        <div class="card-options">
                            <button class="btn watch-btn"></button>
                            <button class="btn like-btn"></button>
                            <button class="btn more-btn"></button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</main>
<script>
document.addEventListener("DOMContentLoaded", function() {
    // Trigger the 'Movies' tab to open by default
    searchtab(event, 'Movies');
});
</script>
{% endblock %}
